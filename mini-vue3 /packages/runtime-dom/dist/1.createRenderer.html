<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script type='module'>
    // runtime-dom 提供浏览器的api操作方法
    // runtime-core 只是虚拟dom，会调用runtime-dom提供的方法
    // import { createRenderer, h } from '../../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-browser.js'
    import {h, render, createRenderer } from './runtime-dom.esm.js'


    // 1. 卸载操作， 第一次有，第二次没有了
    // render(h('div', { style:{ color: 'red', background: 'red' }}, h('span', 'hello word')), app)
    // setTimeout(() => {  
    //   render(null, app)
    // }, 1000)


    //2. type不同时，先卸载n1， 在挂载（初次渲染）n2
    // render(h('div', { style:{ color: 'red', background: 'red' }}, h('span', 'hello word')), app)
    // setTimeout(() => {
    //   render(h('p', 'word'), app)
    // }, 1000)


    // 3. type相同，属性不同
    // render(h('div', { style:{ color: 'red', background: 'red' }}, h('span', 'hello word')), app)
    // setTimeout(() => { 
    //   render(h('div', { style: {color: 'red', background: 'blue' }}, h('span', 'hello word')), app)
    // }, 2000)


    //4.  新的是数组，老的是文本
    // render(h('div', 'hello'), app) 
    // setTimeout(() => {
    //   render(h('div', [h('span', '1'), h('span', '2')]), app) 
    // }, 1000)

    
    // 5. 新的是数组，老的也是数组
    render(h('div', [h('span', 'span1'), h('span', 'span2'), h('span', 'span6')]), app) 
    setTimeout(() => {
      render(h('div', [h('span', 'span1'), h('span', 'span3'), h('span', 'span5'), h('span', 'span6')]), app)
    }, 1000)


    // 6. 老的是数组，新的不是数组
    // render(h('div', [h('span', '1'), h('span', '2')]), app) 
    // setTimeout(() => {
    //   render(h('div', 'hello'), app)
    // }, 2000)
    // render(h('div', {color: 'red'}, h('span', 'hello')), app)
    // render(h('div', [
    //   h('li', { key: 'a' }, 'a'),
    //   h('li', { key: 'b' }, 'b'),
    //   h('li', { key: 'c' }, 'c')
    // ]), app)
    // setTimeout(() => {
    //   render(h('div', [
    //     h('li', { key: 'a' }, 'a'),
    //     h('li', { key: 'b' }, 'b'),
    //     h('li', { key: 'c' }, 'c'),
    //     h('li', { key: 'd' }, 'd')
    //   ]), app)
    // }, 1000)
    // const { render } = createRenderer({ // 想怎么渲染怎么渲染
    //   createElement(tagName) {
    //     return document.createElement(tagName)
    //   },
    //   setElementText (el, text) {
    //     el.innerHTML = text
    //   },
    //   insert (el, container) {
    //     container.appendChild(el) 
    //   }
    // })
    // render(h('div', 'hello word'), app)
    // render(h('div', { style: { color: 'red' }}, 'hello word'), app)
  </script>
</body>
</html>